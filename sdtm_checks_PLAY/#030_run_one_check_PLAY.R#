#  sdtmchecks - practice area
library(sdtmchecks)

### PURPOSE:  Understand R code for run_check (ie 1 row in sdtmcheckmseta and corresponsds to one check function)


### For understanding one check function, see:  020_





                                        

###  Choose 1 check (function) (such as check_ae_aeacnoth)
  AE <- data.frame(
#    USUBJID = 1:7,
    AETERM = 1:7,
    AESTDTC = 1:7,
    AEACNOTH = 1:7,
    AEACNOT1 = 1:7,
    AEACNOT2 = 1:7,
    AESPID = "FORMNAME-R:13/L:13XXXX"
  )


AE=AE

ae=AE

metads = sdtmchecksmeta |> dplyr::filter(check == "check_ae_aeacnoth")
metads$check

debug(run_check)

undebug(run_check)

run_check(check = metads$check,
          fxn_in = metads$fxn_in,
          xls_title = metads$xls_title,
          pdf_title = metads$pdf_title,
          pdf_subtitle = metads$pdf_subtitle,
          pdf_return = metads$pdf_return,
          verbose=T)

metads <- sdtmchecksmeta[1,] # Filter sdtmchecksmeta so that only one check is present
  
debug(run_check)

rec <- run_check(
     check = metads$check,
     fxn_in = metads$fxn_in,
     xls_title = metads$xls_title,
     pdf_title = metads$pdf_title,
     pdf_subtitle = metads$pdf_subtitle,
     pdf_return = metads$pdf_return,
     verbose = T
   )
   
x
khxjhrec
nkattributes(rec)
