```{r}

z = packageStatus()

dim(z$inst)  # installed packages
is.matrix(z$inst) # [1] FALSE
is.data.frame(z$inst) # [1] TRUE


df = z$inst
dim(df) # [1] 264  17
names(df)

library(data.table)
dt = as.data.table(df)
dt

cols = c("Package", "Status", "LibPath")
dt[Status != "ok", ..cols]
#       Package      Status                                     LibPath
# 1:       gert     upgrade /home/jim/R/x86_64-pc-linux-gnu-library/4.3
# 2:   highlite unavailable /home/jim/R/x86_64-pc-linux-gnu-library/4.3
# 3:    nvimcom unavailable /home/jim/R/x86_64-pc-linux-gnu-library/4.3
# 4: KernSmooth     upgrade                  /opt/R/4.3.1/lib/R/library
# 5:     Matrix     upgrade                  /opt/R/4.3.1/lib/R/library
# 6:       mgcv     upgrade                  /opt/R/4.3.1/lib/R/library
# 7:    spatial     upgrade                  /opt/R/4.3.1/lib/R/library
```

