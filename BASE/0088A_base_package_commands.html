<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>a_base_package_commands</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="0088A_base_package_commands_files/libs/clipboard/clipboard.min.js"></script>
<script src="0088A_base_package_commands_files/libs/quarto-html/quarto.js"></script>
<script src="0088A_base_package_commands_files/libs/quarto-html/popper.min.js"></script>
<script src="0088A_base_package_commands_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="0088A_base_package_commands_files/libs/quarto-html/anchor.min.js"></script>
<link href="0088A_base_package_commands_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="0088A_base_package_commands_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="0088A_base_package_commands_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="0088A_base_package_commands_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="0088A_base_package_commands_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<p>-hide– title: ” update_packages.qmd ”<br>
author: “JR”<br>
date: “5/22/2021”<br>
pdf-engine: lualatex<br>
format:<br>
html:<br>
code-fold: true toc: true toc_depth: 3 toc_float: true embed-resources: true indent: true execute: error: true warning: true collapse: true standalone: true TAGS: RPI, rpi,Rscripts</p>
<hr>
<p>This is DEEPER version of 0088_ 0088 is more streamlined. Rscripts/jim Tools - is intended for daily produciton</p>
<p>PURPOSE: Update R packages</p>
<p>Outline:</p>
<pre><code>-   Check R version, sessionInfo
-   Check current R library locations, 
-   Review packages each library
-   Identify packages in more than ONE directory
-   (interactive only) update `old` packages (compiled with older R versions)
-   (interactive only) update any remaining packages
-   list Env variables</code></pre>
<p>Functions:</p>
<pre><code>-   update
-   upgrade
-   installed.packages
-   find.package</code></pre>
<p>8JULY2023 - ran, step 2: warns about Matrix (yes- in to places) (R v 4.3.1) 14JULY2023 - ran, step 2: warns ‘KernSmooth’, ‘Matrix’, ‘mgcv’ - all in /opt/R/4.3.1/lib/R/library will not be updated</p>
<p>TODO:</p>
<pre><code>*    W-I-P
*    Which chunks interactive?  
*    anything NOT necessary in 0088; Doc here!
*   any in devtools?
*   find.package to find packages in TWO locations</code></pre>
<p>SEE ALSO: - (update issues) https://github.com/ColinGoodall1/editUtilsR</p>
<p>SEE ALSO: ~/code/zsh_scripts_project/071_run_R_to_update_packages.sh</p>
<p>SEE ALSO: 0512_system_tools.R_ https://stackoverflow.com/questions/4090169/elegant-way-to-check-for-missing-packages-and-install-them</p>
<p>R version ::: {.cell}</p>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               _                           
platform       x86_64-pc-linux-gnu         
arch           x86_64                      
os             linux-gnu                   
system         x86_64, linux-gnu           
status                                     
major          4                           
minor          3.1                         
year           2023                        
month          06                          
day            16                          
svn rev        84548                       
language       R                           
version.string R version 4.3.1 (2023-06-16)
nickname       Beagle Scouts               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   loaded now</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Linux Mint 21.1

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Los_Angeles
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] dplyr_1.1.2

loaded via a namespace (and not attached):
 [1] digest_0.6.33     utf8_1.2.3        R6_2.5.1          fastmap_1.1.1    
 [5] tidyselect_1.2.0  xfun_0.39         magrittr_2.0.3    glue_1.6.2       
 [9] tibble_3.2.1      knitr_1.43        pkgconfig_2.0.3   htmltools_0.5.5  
[13] rmarkdown_2.23    generics_0.1.3    lifecycle_1.0.3   cli_3.6.1        
[17] fansi_1.0.4       vctrs_0.6.3       compiler_4.3.1    rstudioapi_0.15.0
[21] tools_4.3.1       pillar_1.9.0      evaluate_0.21     rlang_1.1.1      
[25] jsonlite_1.8.7    htmlwidgets_1.6.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">"repos"</span>)  <span class="co"># cran.rstudio.com</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         CRAN 
"https://cloud.r-project.org" </code></pre>
</div>
<p>:::</p>
<section id="review-libpaths-and-package-dir-under-each-path" class="level3">
<h3 class="anchored" data-anchor-id="review-libpaths-and-package-dir-under-each-path">Review libPaths and package dir under each path</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.libPaths</span>()                            <span class="co"># all libraries</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3"
[2] "/opt/R/4.3.1/lib/R/library"                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>.Library                               <span class="co"># system library </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/opt/R/4.3.1/lib/R/library"</code></pre>
</div>
</div>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">**</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">## Gather Currently Installed Packages</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">=</span> <span class="fu">as_tibble</span>(<span class="fu">installed.packages</span>())</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> tmp <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"Package"</span>, <span class="st">"Version"</span>, <span class="st">"LibPath"</span>,  <span class="st">"Built"</span>))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 249</code></pre>
</div>
</div>
<table class="table">
<tbody>
<tr class="odd">
<td>## Show # unique packages in each path</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="st">"LibPath"</span>)  <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(LibPath) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  LibPath                                         n
  &lt;chr&gt;                                       &lt;int&gt;
1 /home/jim/R/x86_64-pc-linux-gnu-library/4.3   220
2 /opt/R/4.3.1/lib/R/library                     29</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # A tibble: 2 × 2</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   LibPath                                         n</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   &lt;chr&gt;                                       &lt;int&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 /home/jim/R/x86_64-pc-linux-gnu-library/4.3   157</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 /opt/R/4.3.1/lib/R/library                     29 (eff 23JUNE 2023)</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 /usr/lib/R/library                             29 (deprecated)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<tbody>
<tr class="odd">
<td>### List Packages in /opt/R/4.3.1/lib/R/library, which is NOT updatable (only sudo can)</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.libPaths</span>()</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3"</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [2] "/opt/R/4.3.1/lib/R/library"                 </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dplyr<span class="sc">::</span><span class="fu">filter</span>(p, LibPath <span class="sc">==</span> <span class="st">"/opt/R/4.3.1/lib/R/library"</span>) , <span class="at">n=</span><span class="dv">29</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dplyr<span class="sc">::</span><span class="fu">filter</span>(p, LibPath <span class="sc">==</span> <span class="st">"/usr/lib/R/library"</span>) ,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="dv">29</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  Each library path, list packages dirs </span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="do">## lengthy</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( <span class="fu">interactive</span>()) <span class="fu">lapply</span>(<span class="fu">.libPaths</span>(), list.dirs, <span class="at">recursive=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section" class="level1">
<h1>————————————————————</h1>
<section id="indentify-packages-located-in-two-directories" class="level3">
<h3 class="anchored" data-anchor-id="indentify-packages-located-in-two-directories">Indentify packages located in TWO directories:</h3>
<p>PROBLEM: R pkgs - can be in TWO locations !!!<br>
# ————————————————————</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ip <span class="ot">=</span> <span class="fu">as_tibble</span>(<span class="fu">installed.packages</span>(<span class="at">lib.loc=</span><span class="cn">NULL</span>))   <span class="co"># NULL, searches all paths</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>ip <span class="ot">=</span> ip <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="st">"Package"</span>,<span class="st">"LibPath"</span>, <span class="st">"Version"</span>, <span class="st">"Built"</span>) </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>ip</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  Look !  MASS installed in two locations</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>ip <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(Package<span class="sc">==</span>(<span class="st">"MASS"</span>)) </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>ip <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(Package<span class="sc">==</span>(<span class="st">"KernSmooth"</span>)) </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>ip <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(Package<span class="sc">==</span>(<span class="st">"Matrix"</span>)) </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  only one</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>ip <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(Package<span class="sc">==</span>(<span class="st">"dplyr"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<colgroup>
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">## 2nd way to find directories for ONE pkg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">:: {.cell}</td>
</tr>
<tr class="even">
<td style="text-align: left;">``{.r .cell-code} SEE ?find.pacakge() findPkgAll &lt;- function(pkg) unlist(lapply(.libPaths(), function(lib) find.package(pkg, lib, quiet=TRUE, verbose=FALSE)))</td>
</tr>
<tr class="odd">
<td style="text-align: left;">findPkgAll(“MASS”) findPkgAll(“knitr”) findPkgAll(“Matrix”) findPkgAll(“mgcv”) findPkgAll(“KernSmooth”) `` ::</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bug in find.package? Should be 2 directoris, finds only 1 :: {.cell}</td>
</tr>
<tr class="odd">
<td style="text-align: left;">``{.r .cell-code} MASS is in 2 directories But .. find.package(“MASS”) find.package(“MASS”, lib.loc=NULL)</td>
</tr>
<tr class="even">
<td style="text-align: left;"># must use verbose=T, to get find.package(“MASS”, verbose=T) find.package(“KernSmooth”, verbose=T, lib.loc=NULL)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Warning message: # In find.package(“MASS”, verbose = T) : package ‘MASS’ found more than once, using the first from “/home/jim/R/x86_64-pc-linux-gnu-library/4.3/MASS”, “/usr/lib/R/library/MASS” `` ::</td>
</tr>
<tr class="even">
<td style="text-align: left;">## ========================= ## UPDATE - 2 step process? ## =========================</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sk: if directory is not writable prompt user to OK ~/R/x86_64-pc-linux-gnu-library/4.3/</td>
</tr>
<tr class="even">
<td style="text-align: left;">—————————————————————– OTE: if dir not writeable: asks to use personal directory (independent of value for <code>ask</code>) —————————————————————– nstlib = avoids the warning(?) sk = refers to each individual update heckBuilt=T turns a package into <code>old</code> if compiled under older R version —————————————————————– :: {.cell}</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>{.r .cell-code} pdate.packages(ask = F,    ## TRUE means asks for each pkg oldPkgs = old.packages(),         # ONLY these packages updated instlib = .libPaths()[[1]],       # avoids WARNING that R_HOME not writable checkBuilt=T)</code> ::</td>
</tr>
<tr class="even">
<td style="text-align: left;">tep #2 :: {.cell}</td>
</tr>
<tr class="odd">
<td style="text-align: left;">``{.r .cell-code}</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="env-variables" class="level3">
<h3 class="anchored" data-anchor-id="env-variables">ENV variables</h3>
<hr>
<ul>
<li>See: https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html ::: {.cell}</li>
</ul>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(r_home <span class="ot">&lt;-</span><span class="fu">R.home</span>(<span class="at">component=</span><span class="st">"home"</span>)) <span class="co"># [1] /opt/R/4.3.1/lib/R</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "/opt/R/4.3.1/lib/R"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.getenv</span>(<span class="st">"R_HOME"</span>)            <span class="co"># /usr/lib/R ; where R installed</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "/opt/R/4.3.1/lib/R"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.getenv</span>(<span class="st">"R_LIBS_USER"</span>) <span class="co"># # [1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3"</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3"</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.getenv</span>(<span class="st">"R_HIST_SIZE"</span>) <span class="co"># [1] ""</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] ""</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.getenv</span>(<span class="st">"R_BROWSER"</span>)  <span class="co"># [1] "xdg-open"</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "/usr/bin/xdg-open"</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------------------------</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">Sys.getenv</span>()) <span class="co"># 132</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 119</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co"># too lengthy</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>  (<span class="cn">FALSE</span>) <span class="fu">Sys.getenv</span>()        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
</section>
</section>
<section id="section-1" class="level1">
<h1>———————————————</h1>
<section id="check-package-versions" class="level3">
<h3 class="anchored" data-anchor-id="check-package-versions">Check Package Versions</h3>
</section>
</section>
<section id="section-2" class="level1">
<h1>———————————————</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">"rmarkdown"</span>) <span class="co"># 3.5.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] '2.23'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">"MASS"</span>)      <span class="co"># 7.3.60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] '7.3.60'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">"class"</span>)      <span class="co"># 7.3.22:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] '7.3.22'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>R.version.string     <span class="co"># [1] "R version 4.3.0 (2023-04-21)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "R version 4.3.1 (2023-06-16)"</code></pre>
</div>
</div>
</section>
<section id="section-3" class="level1">
<h1>———————————————</h1>
<section id="check-dependncies" class="level3">
<h3 class="anchored" data-anchor-id="check-dependncies">Check Dependncies</h3>
<p>TODO: utils::depends(pkg = c(), dependencies=c ())<br>
# ———————————————</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For each installed pkg, find its dependencies</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="do">#### return list of character vectors, ~15,293 </span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">package_dependencies</span>(</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"tibble"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">db=</span><span class="fu">installed.packages</span>(),</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">reverse=</span><span class="cn">TRUE</span>    )</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># And "tibble" is dependenat upon:</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">package_dependencies</span>(<span class="st">"tibble"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(l) <span class="co"># named list, 1 elemnt named tibble,  a chr[12]</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>t  <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">pkg=</span>l<span class="sc">$</span>tibble)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>t</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="do">##### 010-for &lt;pkg&gt;, find packages dependent upon it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="section-4" class="level1">
<h1>———————————————</h1>
<section id="remove-package" class="level3">
<h3 class="anchored" data-anchor-id="remove-package">Remove Package</h3>
</section>
</section>
<section id="section-5" class="level1">
<h1>———————————————</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="cn">FALSE</span>) <span class="fu">remove.packages</span>(<span class="st">"cellranger"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-6" class="level1">
<h1>———————————————</h1>
<section id="legacy" class="level3">
<h3 class="anchored" data-anchor-id="legacy">LEGACY</h3>
</section>
</section>
<section id="section-7" class="level1">
<h1>———————————————</h1>
<section id="loads-but-does-not-attach-true-if-able-to-load." class="level3">
<h3 class="anchored" data-anchor-id="loads-but-does-not-attach-true-if-able-to-load.">Loads, but does not attach; TRUE if able to load.</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>check_suggests <span class="ot">&lt;-</span> <span class="cf">function</span>(package) {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(package, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#stop("Suggested package '{package}' not present.")</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Not found"</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="fu">check_suggests</span>(<span class="st">"tibble"</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="fu">check_suggests</span>(<span class="st">"joke"</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="fu">check_suggests</span>(<span class="st">"glue"</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="fu">check_suggests</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="view-all-installed-r-packages--" class="level1">
<h1>—- 003 view all installed R packages? —-</h1>
</section>
<section id="at-cmd-line-which-needed" class="level1">
<h1>at cmd line which needed?</h1>
</section>
<section id="apt-get-cache-search-r--sort" class="level1">
<h1>apt-get cache search “^r-*” | sort</h1>
<section id="libpaths-list-all-paths-purpose-name" class="level4">
<h4 class="anchored" data-anchor-id="libpaths-list-all-paths-purpose-name">4-.libPaths(), list all paths, purpose, name</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.libPaths</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3"
[2] "/opt/R/4.3.1/lib/R/library"                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fix:</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># t_libPaths &lt;- tibble(.libPaths()) %&gt;% </span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   purpose =  c("added packages", </span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                ".Library.site", </span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">#                ".Library.site", </span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#                "base R pkgs"),  </span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   quantity  = c("many", "Empty", "Empty", "many")  ,</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   env_var = c("R_LIBS_USER","","","R_LIBS?"),</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   aka = c("",".Library.site", ".Library.site", ".Library.site, .Library"))</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co"># t_libPaths</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Each path in .libPaths(), list installed packages</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>.Library</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/opt/R/4.3.1/lib/R/library"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="cn">FALSE</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  .Library</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(<span class="fu">.libPaths</span>(), list.dirs, <span class="at">recursive=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
  [1] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/abind"       
  [2] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/AsioHeaders" 
  [3] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/askpass"     
  [4] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/attachment"  
  [5] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/backports"   
  [6] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/base64enc"   
  [7] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/BH"          
  [8] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/bit"         
  [9] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/bit64"       
 [10] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/brew"        
 [11] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/brio"        
 [12] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/broom"       
 [13] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/bslib"       
 [14] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/cachem"      
 [15] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/callr"       
 [16] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/carData"     
 [17] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/checkmate"   
 [18] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/chromote"    
 [19] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/class"       
 [20] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/cli"         
 [21] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/clipr"       
 [22] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/clock"       
 [23] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/colorspace"  
 [24] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/commonmark"  
 [25] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/conflicted"  
 [26] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/covr"        
 [27] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/cpp11"       
 [28] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/crayon"      
 [29] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/credentials" 
 [30] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/curl"        
 [31] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/data.table"  
 [32] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/desc"        
 [33] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/devtools"    
 [34] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/diagram"     
 [35] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/dials"       
 [36] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/DiceDesign"  
 [37] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/diffobj"     
 [38] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/digest"      
 [39] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/downlit"     
 [40] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/dplyr"       
 [41] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/dtplyr"      
 [42] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ellipsis"    
 [43] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/evaluate"    
 [44] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/extrafont"   
 [45] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/extrafontdb" 
 [46] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/fansi"       
 [47] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/farver"      
 [48] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/fastmap"     
 [49] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/fontawesome" 
 [50] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/forcats"     
 [51] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/foreach"     
 [52] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/fs"          
 [53] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/furrr"       
 [54] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/fusen"       
 [55] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/future"      
 [56] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/future.apply"
 [57] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/generics"    
 [58] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/gert"        
 [59] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ggplot2"     
 [60] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/gh"          
 [61] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/gitcreds"    
 [62] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/globals"     
 [63] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/glue"        
 [64] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/gower"       
 [65] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/GPfit"       
 [66] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/gtable"      
 [67] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/hardhat"     
 [68] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/haven"       
 [69] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/here"        
 [70] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/highlite"    
 [71] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/highr"       
 [72] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/hms"         
 [73] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/htmltools"   
 [74] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/htmlwidgets" 
 [75] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/httpuv"      
 [76] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/httr"        
 [77] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/httr2"       
 [78] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/infer"       
 [79] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ini"         
 [80] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ipred"       
 [81] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ISLR"        
 [82] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ISLR2"       
 [83] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/isoband"     
 [84] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/iterators"   
 [85] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/jquerylib"   
 [86] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/jsonlite"    
 [87] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/kableExtra"  
 [88] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/KernSmooth"  
 [89] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/knitr"       
 [90] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/labeling"    
 [91] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/later"       
 [92] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lattice"     
 [93] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lava"        
 [94] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lazyeval"    
 [95] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lhs"         
 [96] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lifecycle"   
 [97] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/listenv"     
 [98] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/listviewer"  
 [99] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lobstr"      
[100] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lookup"      
[101] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/lubridate"   
[102] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/magrittr"    
[103] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/markdown"    
[104] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/MASS"        
[105] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/Matrix"      
[106] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/MatrixModels"
[107] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/memoise"     
[108] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/mgcv"        
[109] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/mime"        
[110] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/miniUI"      
[111] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/modeldata"   
[112] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/modelenv"    
[113] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/munsell"     
[114] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/nnet"        
[115] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/numDeriv"    
[116] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/nvimcom"     
[117] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/nycflights13"
[118] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/openssl"     
[119] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/packrat"     
[120] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pak"         
[121] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/parallelly"  
[122] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/parsermd"    
[123] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/parsnip"     
[124] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/patchwork"   
[125] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pillar"      
[126] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgA"        
[127] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgB"        
[128] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgbuild"    
[129] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgconfig"   
[130] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgdown"     
[131] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/pkgload"     
[132] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/praise"      
[133] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/prettyunits" 
[134] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/processx"    
[135] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/prodlim"     
[136] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/profvis"     
[137] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/progress"    
[138] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/progressr"   
[139] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/promises"    
[140] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ps"          
[141] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/purrr"       
[142] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/quantreg"    
[143] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/R6"          
[144] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/ragg"        
[145] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rappdirs"    
[146] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rcmdcheck"   
[147] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/RColorBrewer"
[148] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/Rcpp"        
[149] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/RcppEigen"   
[150] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/readr"       
[151] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/recipes"     
[152] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rematch2"    
[153] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/remotes"     
[154] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/repr"        
[155] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/repurrrsive" 
[156] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rex"         
[157] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rlang"       
[158] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rmarkdown"   
[159] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/roxygen2"    
[160] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rprojroot"   
[161] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rrapply"     
[162] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rsample"     
[163] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rsconnect"   
[164] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rstudioapi"  
[165] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/Rttf2pt1"    
[166] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rversions"   
[167] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/rvest"       
[168] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/sass"        
[169] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/scales"      
[170] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/selectr"     
[171] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/servr"       
[172] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/sessioninfo" 
[173] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/shape"       
[174] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/shiny"       
[175] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/skimr"       
[176] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/slider"      
[177] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/sloop"       
[178] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/sourcetools" 
[179] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/SparseM"     
[180] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/SQUAREM"     
[181] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/stringi"     
[182] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/stringr"     
[183] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/survival"    
[184] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/svglite"     
[185] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/sys"         
[186] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/systemfonts" 
[187] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/testthat"    
[188] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/textshaping" 
[189] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tibble"      
[190] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tidymodels"  
[191] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tidyr"       
[192] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tidyselect"  
[193] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/timechange"  
[194] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/timeDate"    
[195] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tinytest"    
[196] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tinytex"     
[197] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tune"        
[198] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/tzdb"        
[199] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/urlchecker"  
[200] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/usethis"     
[201] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/utf8"        
[202] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/vctrs"       
[203] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/viridisLite" 
[204] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/vroom"       
[205] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/waldo"       
[206] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/warp"        
[207] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/webshot"     
[208] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/webshot2"    
[209] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/websocket"   
[210] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/whisker"     
[211] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/withr"       
[212] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/workflows"   
[213] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/workflowsets"
[214] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/xfun"        
[215] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/xml2"        
[216] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/xopen"       
[217] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/xtable"      
[218] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/yaml"        
[219] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/yardstick"   
[220] "/home/jim/R/x86_64-pc-linux-gnu-library/4.3/zip"         

[[2]]
 [1] "/opt/R/4.3.1/lib/R/library/base"        
 [2] "/opt/R/4.3.1/lib/R/library/boot"        
 [3] "/opt/R/4.3.1/lib/R/library/class"       
 [4] "/opt/R/4.3.1/lib/R/library/cluster"     
 [5] "/opt/R/4.3.1/lib/R/library/codetools"   
 [6] "/opt/R/4.3.1/lib/R/library/compiler"    
 [7] "/opt/R/4.3.1/lib/R/library/datasets"    
 [8] "/opt/R/4.3.1/lib/R/library/foreign"     
 [9] "/opt/R/4.3.1/lib/R/library/graphics"    
[10] "/opt/R/4.3.1/lib/R/library/grDevices"   
[11] "/opt/R/4.3.1/lib/R/library/grid"        
[12] "/opt/R/4.3.1/lib/R/library/KernSmooth"  
[13] "/opt/R/4.3.1/lib/R/library/lattice"     
[14] "/opt/R/4.3.1/lib/R/library/MASS"        
[15] "/opt/R/4.3.1/lib/R/library/Matrix"      
[16] "/opt/R/4.3.1/lib/R/library/methods"     
[17] "/opt/R/4.3.1/lib/R/library/mgcv"        
[18] "/opt/R/4.3.1/lib/R/library/nlme"        
[19] "/opt/R/4.3.1/lib/R/library/nnet"        
[20] "/opt/R/4.3.1/lib/R/library/parallel"    
[21] "/opt/R/4.3.1/lib/R/library/rpart"       
[22] "/opt/R/4.3.1/lib/R/library/spatial"     
[23] "/opt/R/4.3.1/lib/R/library/splines"     
[24] "/opt/R/4.3.1/lib/R/library/stats"       
[25] "/opt/R/4.3.1/lib/R/library/stats4"      
[26] "/opt/R/4.3.1/lib/R/library/survival"    
[27] "/opt/R/4.3.1/lib/R/library/tcltk"       
[28] "/opt/R/4.3.1/lib/R/library/tools"       
[29] "/opt/R/4.3.1/lib/R/library/translations"
[30] "/opt/R/4.3.1/lib/R/library/utils"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">"repos"</span>)  <span class="co"># cran.rstudio.com</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         CRAN 
"https://cloud.r-project.org" </code></pre>
</div>
</div>
</section>
</section>
<section id="jennybc" class="level1">
<h1>—————————–jennyBC ——————————————————————</h1>
<section id="jennybc-1" class="level5">
<h5 class="anchored" data-anchor-id="jennybc-1">013_jennyBC</h5>
</section>
<section id="from-httpsgithub.comsmithjdexplore-librariesblobmaster01_explore-libraries_jenny.r" class="level4">
<h4 class="anchored" data-anchor-id="from-httpsgithub.comsmithjdexplore-librariesblobmaster01_explore-libraries_jenny.r">from https://github.com/smithjd/explore-libraries/blob/master/01_explore-libraries_jenny.R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>ipt <span class="ot">&lt;-</span> <span class="fu">installed.packages</span>() <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ipt) <span class="co"># [1] 186  16</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 249  16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>installed_pkgs  <span class="ot">&lt;-</span> ipt <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="st">"Package"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(installed_pkgs, <span class="at">n=</span><span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 249 × 1
    Package     
    &lt;chr&gt;       
  1 abind       
  2 AsioHeaders 
  3 askpass     
  4 attachment  
  5 backports   
  6 base64enc   
  7 BH          
  8 bit         
  9 bit64       
 10 brew        
 11 brio        
 12 broom       
 13 bslib       
 14 cachem      
 15 callr       
 16 carData     
 17 checkmate   
 18 chromote    
 19 class       
 20 cli         
 21 clipr       
 22 clock       
 23 colorspace  
 24 commonmark  
 25 conflicted  
 26 covr        
 27 cpp11       
 28 crayon      
 29 credentials 
 30 curl        
 31 data.table  
 32 desc        
 33 devtools    
 34 diagram     
 35 dials       
 36 DiceDesign  
 37 diffobj     
 38 digest      
 39 downlit     
 40 dplyr       
 41 dtplyr      
 42 ellipsis    
 43 evaluate    
 44 extrafont   
 45 extrafontdb 
 46 fansi       
 47 farver      
 48 fastmap     
 49 fontawesome 
 50 forcats     
 51 foreach     
 52 fs          
 53 furrr       
 54 fusen       
 55 future      
 56 future.apply
 57 generics    
 58 gert        
 59 ggplot2     
 60 gh          
 61 gitcreds    
 62 globals     
 63 glue        
 64 gower       
 65 GPfit       
 66 gtable      
 67 hardhat     
 68 haven       
 69 here        
 70 highlite    
 71 highr       
 72 hms         
 73 htmltools   
 74 htmlwidgets 
 75 httpuv      
 76 httr        
 77 httr2       
 78 infer       
 79 ini         
 80 ipred       
 81 ISLR        
 82 ISLR2       
 83 isoband     
 84 iterators   
 85 jquerylib   
 86 jsonlite    
 87 kableExtra  
 88 KernSmooth  
 89 knitr       
 90 labeling    
 91 later       
 92 lattice     
 93 lava        
 94 lazyeval    
 95 lhs         
 96 lifecycle   
 97 listenv     
 98 listviewer  
 99 lobstr      
100 lookup      
101 lubridate   
102 magrittr    
103 markdown    
104 MASS        
105 Matrix      
106 MatrixModels
107 memoise     
108 mgcv        
109 mime        
110 miniUI      
111 modeldata   
112 modelenv    
113 munsell     
114 nnet        
115 numDeriv    
116 nvimcom     
117 nycflights13
118 openssl     
119 packrat     
120 pak         
121 parallelly  
122 parsermd    
123 parsnip     
124 patchwork   
125 pillar      
126 pkgA        
127 pkgB        
128 pkgbuild    
129 pkgconfig   
130 pkgdown     
131 pkgload     
132 praise      
133 prettyunits 
134 processx    
135 prodlim     
136 profvis     
137 progress    
138 progressr   
139 promises    
140 ps          
141 purrr       
142 quantreg    
143 R6          
144 ragg        
145 rappdirs    
146 rcmdcheck   
147 RColorBrewer
148 Rcpp        
149 RcppEigen   
150 readr       
151 recipes     
152 rematch2    
153 remotes     
154 repr        
155 repurrrsive 
156 rex         
157 rlang       
158 rmarkdown   
159 roxygen2    
160 rprojroot   
161 rrapply     
162 rsample     
163 rsconnect   
164 rstudioapi  
165 Rttf2pt1    
166 rversions   
167 rvest       
168 sass        
169 scales      
170 selectr     
171 servr       
172 sessioninfo 
173 shape       
174 shiny       
175 skimr       
176 slider      
177 sloop       
178 sourcetools 
179 SparseM     
180 SQUAREM     
181 stringi     
182 stringr     
183 survival    
184 svglite     
185 sys         
186 systemfonts 
187 testthat    
188 textshaping 
189 tibble      
190 tidymodels  
191 tidyr       
192 tidyselect  
193 timechange  
194 timeDate    
195 tinytest    
196 tinytex     
197 tune        
198 tzdb        
199 urlchecker  
200 usethis     
# ℹ 49 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>ipt <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 249
Columns: 16
$ Package               &lt;chr&gt; "abind", "AsioHeaders", "askpass", "attachment",…
$ LibPath               &lt;chr&gt; "/home/jim/R/x86_64-pc-linux-gnu-library/4.3", "…
$ Version               &lt;chr&gt; "1.4-5", "1.22.1-2", "1.1", "0.4.0", "1.4.1", "0…
$ Priority              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ Depends               &lt;chr&gt; "R (&gt;= 1.5.0)", NA, NA, "R (&gt;= 3.4)", "R (&gt;= 3.0…
$ Imports               &lt;chr&gt; "methods, utils", NA, "sys (&gt;= 2.1)", "cli, desc…
$ LinkingTo             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ Suggests              &lt;chr&gt; NA, NA, "testthat", "lifecycle, renv (&gt;= 0.8.4),…
$ Enhances              &lt;chr&gt; NA, NA, NA, NA, NA, "png", NA, NA, NA, NA, NA, N…
$ License               &lt;chr&gt; "LGPL (&gt;= 2)", "BSL-1.0", "MIT + file LICENSE", …
$ License_is_FOSS       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ License_restricts_use &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ OS_type               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ MD5sum                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ NeedsCompilation      &lt;chr&gt; "no", "no", "yes", "no", "yes", "yes", "no", "ye…
$ Built                 &lt;chr&gt; "4.3.1", "4.3.1", "4.3.0", "4.3.0", "4.3.0", "4.…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="do">####' 014_Exploring the packages</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="do">####   * tabulate by LibPath, Priority, or both</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="do">#### base: 14, recommended:15, my library:165</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>ipt <span class="sc">%&gt;%</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(LibPath, Priority)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  LibPath                                     Priority        n
  &lt;chr&gt;                                       &lt;chr&gt;       &lt;int&gt;
1 /home/jim/R/x86_64-pc-linux-gnu-library/4.3 recommended     8
2 /home/jim/R/x86_64-pc-linux-gnu-library/4.3 &lt;NA&gt;          212
3 /opt/R/4.3.1/lib/R/library                  base           14
4 /opt/R/4.3.1/lib/R/library                  recommended    15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="do">####   * what proportion need compilation?</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="do">####   2nd line produces 3 rows x 2 (NeedCompliation n)</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>ipt <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(NeedsCompilation) <span class="sc">%&gt;%</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  NeedsCompilation     n   prop
  &lt;chr&gt;            &lt;int&gt;  &lt;dbl&gt;
1 no                 127 0.510 
2 yes                115 0.462 
3 &lt;NA&gt;                 7 0.0281</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### 015_remove pkg</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># uninstall()  vs remove.packages() ??</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="do">#### Find (and remove) package BH (it is gone!)</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>ipt <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Package<span class="sc">==</span><span class="st">"BH"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 16
  Package LibPath   Version Priority Depends Imports LinkingTo Suggests Enhances
  &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;   
1 BH      /home/ji… 1.81.0… &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;    
# ℹ 7 more variables: License &lt;chr&gt;, License_is_FOSS &lt;chr&gt;,
#   License_restricts_use &lt;chr&gt;, OS_type &lt;chr&gt;, MD5sum &lt;chr&gt;,
#   NeedsCompilation &lt;chr&gt;, Built &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># uninstall(BH)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>